{% extends "layout.html" %}


{% block page_content %}

	<div class="row">
		
		{% if prev %}
		<div class="card" style="width: 18rem; margin: 0 auto; float: none; margin-bottom: 10px;">
			<div class="card-header">
			  Card Descriptors
			</div>
			<ul class="list-group list-group-flush">
				{% for p in prev %}
					<li class="list-group-item">{{ p }}</li>
				{% endfor %}
			</ul>
		  </div>
		{% endif %}
	</div>	
	
	<br>

	<div class="row">
			<img src="{{ url_for('main_bp.send_image', filename=filename) }}" class="img-fluid" style="display: block; margin-left: auto; margin-right: auto;">	
	</div>

	<br>
	
	<div class="row">	
		<form name = "descForm" method="post" action="{{ url_for('main_bp.add_metadata', filename=filename, username=user) }}" style="display: block; margin-left: auto; margin-right: auto;">
			<div class="col-lg-12">

				{% if prev %}
					{% for i in prev %}
						
						<div id="inputFormRow">
							<div class="input-group mb-3">
								<input type="text" name="desc" class="form-control m-input" value="{{ i }}" autocomplete="off">
								<div class="input-group-append">                
									<button id="removeRow" type="button" class="btn btn-danger">Remove</button>
								</div>
							</div>
						</div>
					{% endfor %}
				{% endif %}
	
				<div id="newRow"></div>
				<button id="addRow" type="button" class="btn btn-info">Add Row</button>

				<button class="btn btn-primary" type="submit">Submit form</button>
			</div>
			
		</form>
	</div>	
{% endblock %}

{% block javascript %}
  {{ super() }}
  <script type="text/javascript" src="{{ url_for('static', filename='main/metadata-input.js') }}"></script>
{% endblock %}
